import 'package:flutter/material.dart';

class AppStrings {
  final Locale locale;
  AppStrings(this.locale);

  static AppStrings of(BuildContext context) => AppStrings(Localizations.localeOf(context));

  static const Map<String, Map<String, String>> _values = {
    'ko': {
      'nav.home': '홈',
      'nav.calendar': '캘린더',
      'nav.partner': '파트너',
      'nav.profile': '프로필',
      'nav.settings': '설정',
      'home.title': '홈',
      'home.current_cycle': '현재 주기',
      'home.shortcut': '바로가기',
      'home.shortcut_body': '캘린더에서 주기 기록을 관리하고, 파트너에서 공유 설정을 조정하세요.',
      'home.current_cycle_load_fail': '현재 주기 정보를 불러오지 못했어요.',
      'home.status.menstruation': '현재 생리 중입니다.',
      'home.status.menstruation_day': '현재 생리 {day}일차입니다.',
      'home.status.ovulation': '현재 배란기입니다.',
      'home.status.pms': '현재 PMS 기간입니다.',
      'home.status.follicular': '현재 난포기입니다.',
      'home.status.luteal': '현재 황체기입니다.',
      'home.status.calculating': '주기 계산 중입니다.',
      'home.status.cycle_day': '현재 주기 {day}일차입니다.',
      'home.next_period': '다음 예상 생리: {month}/{day}',
      'settings.language_select': '언어 선택',
      'settings.korean': '한국어',
      'settings.title': '설정',
      'settings.section.notifications': '알림',
      'settings.period_reminder.title': '생리 예정일 알림',
      'settings.period_reminder.subtitle': '예정일 1-2일 전 알림',
      'settings.ovulation.title': '배란일 알림',
      'settings.ovulation.subtitle': '배란 예정일 알림',
      'settings.partner_period.title': '파트너 생리 시작 알림',
      'settings.partner_period.subtitle': '파트너 생리 시작 시 알림',
      'settings.partner_pms.title': 'PMS 기간 알림',
      'settings.partner_pms.subtitle': '파트너 PMS 기간 시작 알림',
      'settings.care_tip.title': '케어 팁 알림',
      'settings.care_tip.subtitle': '파트너 케어 팁 받기',
      'settings.anniversary.title': '기념일 알림',
      'settings.daily_record.title': '기록 리마인더',
      'settings.daily_record.subtitle': '매일 기록 알림',
      'settings.notification_time': '알림 시간',
      'settings.notification_center.title': '알림 센터',
      'settings.notification_center.subtitle': '수신한 알림 목록 확인',
      'settings.section.app': '앱 설정',
      'settings.language': '언어',
      'settings.section.account': '계정',
      'settings.profile': '프로필',
      'settings.account_management': '계정 관리',
      'settings.developer_test.title': '개발자 테스트',
      'settings.developer_test.subtitle': '알림 테스트 화면',
      'settings.section.info': '정보',
      'settings.terms': '이용약관',
      'settings.privacy': '개인정보처리방침',
      'settings.app_version': '앱 버전',
      'settings.notification_time.select': '알림 시간 선택',
    },
    'en': {
      'nav.home': 'Home',
      'nav.calendar': 'Calendar',
      'nav.partner': 'Partner',
      'nav.profile': 'Profile',
      'nav.settings': 'Settings',
      'home.title': 'Home',
      'home.current_cycle': 'Current cycle',
      'home.shortcut': 'Quick actions',
      'home.shortcut_body': 'Manage cycle records in Calendar and sharing options in Partner.',
      'home.current_cycle_load_fail': 'Could not load current cycle information.',
      'home.status.menstruation': 'Currently on period.',
      'home.status.menstruation_day': 'Currently day {day} of period.',
      'home.status.ovulation': 'Currently in ovulation phase.',
      'home.status.pms': 'Currently in PMS phase.',
      'home.status.follicular': 'Currently in follicular phase.',
      'home.status.luteal': 'Currently in luteal phase.',
      'home.status.calculating': 'Calculating cycle...',
      'home.status.cycle_day': 'Currently day {day} of cycle.',
      'home.next_period': 'Next expected period: {month}/{day}',
      'settings.language_select': 'Select language',
      'settings.korean': 'Korean',
      'settings.title': 'Settings',
      'settings.section.notifications': 'Notifications',
      'settings.period_reminder.title': 'Period reminder',
      'settings.period_reminder.subtitle': 'Notify 1-2 days before expected date',
      'settings.ovulation.title': 'Ovulation reminder',
      'settings.ovulation.subtitle': 'Notify on expected ovulation day',
      'settings.partner_period.title': 'Partner period start',
      'settings.partner_period.subtitle': 'Notify when partner period starts',
      'settings.partner_pms.title': 'PMS reminder',
      'settings.partner_pms.subtitle': 'Notify when partner PMS starts',
      'settings.care_tip.title': 'Care tip reminder',
      'settings.care_tip.subtitle': 'Receive partner care tips',
      'settings.anniversary.title': 'Anniversary reminder',
      'settings.daily_record.title': 'Daily record reminder',
      'settings.daily_record.subtitle': 'Daily check-in reminder',
      'settings.notification_time': 'Notification time',
      'settings.notification_center.title': 'Notification center',
      'settings.notification_center.subtitle': 'View received notifications',
      'settings.section.app': 'App settings',
      'settings.language': 'Language',
      'settings.section.account': 'Account',
      'settings.profile': 'Profile',
      'settings.account_management': 'Account management',
      'settings.developer_test.title': 'Developer test',
      'settings.developer_test.subtitle': 'Notification test screen',
      'settings.section.info': 'Info',
      'settings.terms': 'Terms of Service',
      'settings.privacy': 'Privacy Policy',
      'settings.app_version': 'App version',
      'settings.notification_time.select': 'Select notification time',
    },
  };

  String t(String key, {Map<String, String>? params}) {
    final lang = locale.languageCode.startsWith('en') ? 'en' : 'ko';
    var value = _values[lang]?[key] ?? _values['ko']?[key] ?? key;
    params?.forEach((k, v) {
      value = value.replaceAll('{$k}', v);
    });
    return value;
  }
}
